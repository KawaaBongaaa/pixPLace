<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>pixPLace</title>

  <!-- –®—Ä–∏—Ñ—Ç—ã (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à –Ω–∞–±–æ—Ä; –Ω–∏–∂–µ ‚Äî –ø—Ä–∏–º–µ—Ä, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ head –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <!-- –í–ê–®–ò –®–†–ò–§–¢–´ ‚Äî –Ω–µ —É–¥–∞–ª—è—é: –¥–æ–±–∞–≤—å—Ç–µ/–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–µ, —á—Ç–æ —É –≤–∞—Å –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />

  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="styles_modern.css" />

  <!-- Telegram SDK, –µ—Å–ª–∏ –±—ã–ª —É –≤–∞—Å –≤ head -->
  <script async src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-content">
      <div class="loading-logo">
        <div class="logo-circle">
          <img src="icon.svg" alt="pixPLace" width="24" height="24" />
        </div>
      </div>
      <h2>Please, Have a Fun!</h2>
      <div class="loading-bar">
        <div class="loading-progress"></div>
      </div>
    </div>
  </div>

  <div class="app" id="appRoot">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <a class="logo" href="#">
            <img class="logo-img" src="logo.svg" alt="pixPLace" />
            <div class="logo-text">pixPLace</div>
          </a>
        </div>
        <div class="header-right">
          <!-- –≤–∞—à–∏ –∫–Ω–æ–ø–∫–∏ —Ç–µ–º/–Ω–∞—Å—Ç—Ä–æ–µ–∫/–∏—Å—Ç–æ—Ä–∏–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã -->
        </div>
      </div>
      <div class="status-bar" id="statusBar">
        <div class="status-content">
          <span class="status-icon">‚Üª</span>
          <span>Connecting...</span>
        </div>
      </div>
    </header>

    <main class="main-content">
      <!-- Main Screen -->
      <section id="screen-main" class="screen active" aria-label="–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏">
        <div class="screen-content">
          <section class="welcome-section">
            <h1>Describe your vision and watch AI bring it to life</h1>
          </section>

          <form class="generation-form" id="generationForm" autocomplete="off">
            <div class="form-group">
              <label for="promptInput" class="form-label">Describe your image</label>
              <div class="input-wrapper">
                <textarea id="promptInput" class="form-textarea" maxlength="888" placeholder="Describe your image"></textarea>
                <div class="input-counter" id="promptCounter">0/888</div>
              </div>
            </div>

            <!-- Styles (–∫–∞–∫ –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ) -->
            <div class="form-group">
              <div class="style-grid" id="styleGrid">
                <button type="button" class="style-card" data-style="realistic"><span class="style-icon">üì∑</span>Realistic</button>
                <button type="button" class="style-card" data-style="cartoon"><span class="style-icon">üé®</span>Cartoon</button>
                <button type="button" class="style-card" data-style="fantasy"><span class="style-icon">üßö</span>Fantasy</button>
                <button type="button" class="style-card" data-style="artistic"><span class="style-icon">üñåÔ∏è</span>Artistic</button>
                <button type="button" class="style-card" data-style="anime"><span class="style-icon">üå∏</span>Anime</button>
                <button type="button" class="style-card" data-style="cyberpunk"><span class="style-icon">ü§ñ</span>Cyberpunk</button>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="qualitySelect">Quality</label>
                <select id="qualitySelect" class="form-select">
                  <option value="standard">Standard</option>
                  <option value="hd">HD</option>
                  <option value="ultra">Ultra HD</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="sizeSelect">Size</label>
                <select id="sizeSelect" class="form-select">
                  <option value="square">Square</option>
                  <option value="portrait">Portrait</option>
                  <option value="landscape">Landscape</option>
                </select>
              </div>
            </div>

            <!-- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è: Image-to-Image Upload Zone -->
            <section id="i2i-uploader" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–º–∏–∫—Å–∞">
              <label class="form-label">Remix from image</label>
              <div
                id="i2i-dropzone"
                class="i2i-dropzone"
                role="button"
                tabindex="0"
                aria-label="–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞, –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏–∑ –±—É—Ñ–µ—Ä–∞"
                aria-describedby="i2i-help"
              >
                <input id="i2i-file" type="file" accept="image/*" hidden />
                <div class="i2i-dropzone-inner">
                  <div class="i2i-icon" aria-hidden="true">üñºÔ∏è</div>
                  <div class="i2i-text">
                    <div class="i2i-title">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—é–¥–∞</div>
                    <div class="i2i-sub">‚Ä¶–∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ Ctrl/‚åò+V</div>
                  </div>
                </div>
                <figure id="i2i-preview" class="i2i-preview" hidden>
                  <img id="i2i-preview-img" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" />
                  <figcaption id="i2i-filename" class="i2i-filename"></figcaption>
                </figure>
              </div>
              <p id="i2i-help" class="i2i-help">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º JPG, PNG, WEBP –¥–æ 20 –ú–ë.</p>

              <!-- –ú–∏–Ω–∏-–ø–∞–Ω–µ–ª—å i2i: prompt + –º–æ–¥–µ–ª—å + generate -->
              <div class="form-row" style="margin-top: 12px;">
                <div class="form-group" style="flex: 2;">
                  <label class="form-label" for="i2iPrompt">Prompt for remix</label>
                  <textarea id="i2iPrompt" class="form-textarea" placeholder="Optional: —É—Ç–æ—á–Ω–∏—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å"></textarea>
                </div>
                <div class="form-group" style="flex: 1;">
                  <label class="form-label" for="i2iModel">Model</label>
                  <select id="i2iModel" class="form-select">
                    <option value="placeholder-1">Placeholder 1</option>
                    <option value="placeholder-2">Placeholder 2</option>
                  </select>
                </div>
              </div>
              <div style="display: flex; justify-content: center; margin-top: 8px;">
                <button type="button" id="i2iGenerateBtn" class="generate-btn">
                  <span class="btn-icon">‚ú®</span>
                  Generate Image
                  <span class="btn-ripple"></span>
                </button>
              </div>
            </section>
            <!-- –ö–æ–Ω–µ—Ü –Ω–æ–≤–æ–π —Å–µ–∫—Ü–∏–∏ -->

            <div style="display: flex; justify-content: center; margin-top: 8px;">
              <button type="button" id="generateBtn" class="generate-btn">
                <span class="btn-icon">‚ú®</span>
                Generate Image
                <span class="btn-ripple"></span>
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Processing Screen -->
      <section id="screen-processing" class="screen" aria-label="–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏">
        <div class="processing-animation">
          <div class="processing-circle">
            <svg class="processing-svg" viewBox="0 0 120 120">
              <circle cx="60" cy="60" r="54" stroke="rgba(255,255,255,0.1)" stroke-width="12" fill="none"></circle>
              <circle id="progressCircle" class="progress-circle" cx="60" cy="60" r="54" stroke="url(#grad)" stroke-width="12" stroke-linecap="round" fill="none" stroke-dasharray="339.292" stroke-dashoffset="339.292"></circle>
              <defs>
                <linearGradient id="grad" x1="0" x2="1" y1="0" y2="0">
                  <stop offset="0%" stop-color="#7aa7ff" />
                  <stop offset="100%" stop-color="#01eaff" />
                </linearGradient>
              </defs>
            </svg>
            <div class="processing-icon">üé®</div>
          </div>
        </div>

        <div class="processing-content">
          <h2>Creating Your Masterpiece</h2>
          <p class="processing-subtitle">This may take up to 60 seconds</p>
          <div class="processing-steps">
            <div class="step" id="stepAnalyze"><span class="step-icon">üîé</span>Analyzing prompt</div>
            <div class="step" id="stepGenerate"><span class="step-icon">üß†</span>Generating image</div>
            <div class="step" id="stepFinalize"><span class="step-icon">‚ú®</span>Finalizing result</div>
          </div>
          <div class="processing-timer">Elapsed time: <span id="elapsed">0s</span></div>
        </div>

        <button id="cancelBtn" class="cancel-btn">Cancel</button>
      </section>

      <!-- Result Screen -->
      <section id="screen-result" class="screen" aria-label="–†–µ–∑—É–ª—å—Ç–∞—Ç">
        <div class="result-container">
          <div class="result-image-container">
            <img id="resultImage" class="result-image" alt="Result" />
            <div class="image-overlay">
              <button class="overlay-btn" id="downloadBtn" title="Download">‚¨áÔ∏è</button>
              <button class="overlay-btn" id="copyLinkBtn" title="Copy Link">üîó</button>
            </div>
          </div>

          <div class="result-info">
            <div class="result-meta">
              <div class="meta-item">
                <div class="meta-label">Prompt:</div>
                <div class="meta-value" id="metaPrompt"></div>
              </div>
              <div class="meta-item">
                <div class="meta-label">Style:</div>
                <div class="meta-value" id="metaStyle"></div>
              </div>
              <div class="meta-item">
                <div class="meta-label">Quality:</div>
                <div class="meta-value" id="metaQuality"></div>
              </div>
              <div class="meta-item">
                <div class="meta-label">Generation time:</div>
                <div class="meta-value" id="metaTime"></div>
              </div>
            </div>

            <div class="result-actions">
              <button id="newBtn" class="action-btn secondary">Create New</button>
              <button id="historyBtn" class="action-btn primary">View History</button>
            </div>
          </div>
        </div>
      </section>

      <!-- History Screen -->
      <section id="screen-history" class="screen" aria-label="–ò—Å—Ç–æ—Ä–∏—è">
        <div class="history-content">
          <div class="history_title">
            <h2>Generation History</h2>
          </div>
          <div id="historyEmpty" class="empty-history">
            <div class="empty-icon">‚ö°</div>
            <h3>No generations yet</h3>
            <p>Create your first AI image to see it here</p>
          </div>
          <div id="historyList"></div>
        </div>
      </section>
    </main>

    <!-- Limit Modal -->
    <div class="limit-modal" id="limitModal" role="dialog" aria-modal="true" aria-labelledby="limitTitle" aria-describedby="limitMessage">
      <div class="limit-modal-backdrop" data-close="true"></div>
      <div class="limit-modal-content" role="document">
        <div class="limit-icon">‚ö°</div>
        <h3 id="limitTitle" class="limit-title">–î–æ—Å—Ç–∏–≥–Ω—É—Ç –õ–∏–º–∏—Ç –ì–µ–Ω–µ—Ä–∞—Ü–∏–π</h3>
        <p id="limitMessage" class="limit-message">
          –í—ã –∏—Å—á–µ—Ä–ø–∞–ª–∏ –ª–∏–º–∏—Ç –ì–µ–Ω–µ—Ä–∞—Ü–∏–π!<br />
          –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –∫–∞–Ω–∞–ª,<br />
          —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –í–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–µ —Å pixPLace webApp!
        </p>
        <div class="limit-buttons">
          <a href="#" id="subscribeBtn" class="btn btn-primary" rel="noopener">–û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</a>
          <button type="button" id="maybeLaterBtn" class="btn btn-secondary">–ú–æ–∂–µ—Ç –ø–æ–∑–∂–µ</button>
        </div>
      </div>
    </div>

    <footer style="text-align:center; padding: 16px; opacity: .8;">
      ¬© 2025 pixPLace, Inc.
    </footer>
  </div>

  <!-- Toast container -->
  <div class="toast-container" id="toastContainer" aria-live="polite" aria-atomic="true"></div>

  <script src="app_modern.js"></script>
</body>
</html>
